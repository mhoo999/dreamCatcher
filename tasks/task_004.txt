# Task ID: 4
# Title: [1차] 꿈 시각화 도구 생성
# Status: pending
# Dependencies: 2
# Priority: medium
# Description: 사용자가 꿈을 시각화할 수 있는 대화형 드래그 앤 드롭 인터페이스 구축
# Details:
react-dnd 또는 react-beautiful-dnd와 같은 라이브러리를 사용하여 캔버스 기반 시각화 도구를 구현합니다. 텍스트, 이미지, 색상 및 기타 시각적 요소를 추가하기 위한 컴포넌트를 만듭니다. Supabase Storage를 사용하여 이미지 업로드 기능을 설정합니다. 시각화 데이터에 대한 저장/로드 기능을 구현합니다. 시각화를 이미지로 저장하는 내보내기 옵션을 추가합니다. 꿈 모델에 저장될 시각화 데이터 구조를 설계합니다.

# Test Strategy:
다양한 브라우저에서 드래그 앤 드롭 기능을 테스트합니다. 이미지 업로드 및 렌더링을 확인합니다. 시각화 상태 저장 및 로드를 테스트합니다. 내보내기 기능이 사용 가능한 이미지 파일을 생성하는지 검증합니다.

# Subtasks:
## 1. 캔버스 기반 드래그 앤 드롭 인터페이스 구현 [pending]
### Dependencies: None
### Description: react-beautiful-dnd 라이브러리를 사용하여 기본 캔버스 영역과 드래그 앤 드롭 기능을 구현합니다.
### Details:
1. react-beautiful-dnd 라이브러리 설치
2. 캔버스 컴포넌트 생성 (Canvas.tsx)
3. 드래그 가능한 영역(DraggableArea)과 드롭 영역(DropArea) 컴포넌트 구현
4. 캔버스 내에서 요소 위치 조정 기능 구현
5. 캔버스 크기 조절 및 확대/축소 기능 추가
6. 테스트: 간단한 요소를 드래그하여 캔버스에 배치하고 위치 조정이 가능한지 확인

## 2. 시각화 요소 컴포넌트 개발 [pending]
### Dependencies: 4.1
### Description: 꿈 시각화에 필요한 다양한 시각적 요소(텍스트, 이미지, 도형, 색상 등)를 위한 컴포넌트를 개발합니다.
### Details:
1. 텍스트 요소 컴포넌트 구현 (크기, 색상, 폰트 조절 가능)
2. 이미지 요소 컴포넌트 구현 (크기 조절, 회전 기능 포함)
3. 도형 요소 컴포넌트 구현 (원, 사각형, 삼각형 등)
4. 색상 팔레트 컴포넌트 구현
5. 요소 속성 편집 패널 구현 (선택된 요소의 속성 변경)
6. 테스트: 각 컴포넌트가 캔버스에 추가되고 속성이 올바르게 편집되는지 확인

## 3. Supabase Storage 이미지 업로드 기능 구현 [pending]
### Dependencies: 4.2
### Description: 사용자가 자신의 이미지를 업로드하고 시각화에 사용할 수 있도록 Supabase Storage 연동 기능을 구현합니다.
### Details:
1. Supabase 클라이언트 설정 및 Storage 버킷 생성
2. 이미지 업로드 컴포넌트 구현 (ImageUploader.tsx)
3. 드래그 앤 드롭 또는 파일 선택을 통한 이미지 업로드 기능 구현
4. 업로드 진행 상태 표시 기능 추가
5. 업로드된 이미지 미리보기 및 캔버스에 추가 기능 구현
6. 테스트: 이미지 업로드 후 스토리지에 저장되고 캔버스에 추가되는지 확인

## 4. 시각화 데이터 구조 설계 및 상태 관리 구현 [pending]
### Dependencies: 4.2, 4.3
### Description: 시각화 요소들의 데이터 구조를 설계하고 상태 관리 시스템을 구현하여 요소들의 추가, 수정, 삭제를 관리합니다.
### Details:
1. 시각화 데이터 모델 정의 (요소 유형, 위치, 크기, 스타일 등 포함)
2. Redux 또는 Context API를 사용한 상태 관리 시스템 구현
3. 요소 추가, 수정, 삭제, 순서 변경 액션 구현
4. 실행 취소/다시 실행(Undo/Redo) 기능 구현
5. 선택된 요소 상태 관리 구현
6. 테스트: 요소 추가, 수정, 삭제 및 실행 취소/다시 실행 기능이 올바르게 작동하는지 확인

## 5. 시각화 저장 및 불러오기 기능 구현 [pending]
### Dependencies: 4.4
### Description: 사용자의 시각화 작업을 Supabase 데이터베이스에 저장하고 불러올 수 있는 기능을 구현합니다.
### Details:
1. Supabase 데이터베이스에 시각화 데이터를 저장할 테이블 설계
2. 저장 기능 구현 (현재 캔버스 상태를 JSON으로 변환하여 저장)
3. 자동 저장 기능 구현 (일정 시간마다 또는 변경 시)
4. 저장된 시각화 목록 조회 기능 구현
5. 저장된 시각화 불러오기 기능 구현
6. 테스트: 시각화 저장 후 다시 불러왔을 때 모든 요소와 속성이 정확히 복원되는지 확인

## 6. 시각화 내보내기 기능 구현 [pending]
### Dependencies: 4.4, 4.5
### Description: 완성된 시각화를 이미지 파일로 내보내는 기능을 구현합니다.
### Details:
1. html2canvas 또는 dom-to-image 라이브러리 설치
2. 캔버스 영역을 이미지로 변환하는 기능 구현
3. 다양한 이미지 형식(PNG, JPEG, SVG 등) 지원 구현
4. 이미지 해상도 및 품질 옵션 설정 기능 추가
5. 내보낸 이미지를 다운로드하거나 소셜 미디어에 공유하는 기능 구현
6. 테스트: 다양한 요소가 포함된 시각화를 여러 형식으로 내보내고 품질 확인

