# Task ID: 3
# Title: [MVP] AI 기반 목표 제안 시스템 개발
# Status: pending
# Dependencies: 2
# Priority: high
# Description: 사용자 꿈을 기반으로 개인화된 목표를 생성하기 위한 OpenAI/Claude API 통합
# Details:
OpenAI/Claude API 통합을 설정합니다. 사용자 꿈 데이터를 처리하고 적절한 일일/주간/월간 목표를 생성하는 서비스를 만듭니다. Supabase에서 목표 데이터 모델을 구현합니다. 품질 목표 제안을 보장하기 위한 AI 프롬프트 엔지니어링을 설계합니다. 사용자가 제안된 목표를 편집, 우선순위 지정 또는 거부할 수 있는 옵션이 있는 UI를 구축합니다. 시간 프레임(일일/주간/월간)별 목표 분류를 포함합니다.

# Test Strategy:
샘플 꿈 입력으로 API 통합을 테스트합니다. 목표 생성 품질 및 관련성을 확인합니다. 최소한의 또는 비정상적인 꿈 설명이 있는 엣지 케이스를 테스트합니다. 데이터베이스에서 목표 저장 및 검색을 검증합니다.

# Subtasks:
## 1. OpenAI/Claude API 연동 및 기본 통신 설정 [pending]
### Dependencies: None
### Description: AI 서비스와의 통신을 위한 기본 인프라 구축 및 API 연동 설정
### Details:
1. OpenAI와 Claude API 키 발급 및 환경 변수 설정
2. API 클라이언트 래퍼 클래스 구현 (요청 전송, 응답 처리, 오류 처리)
3. API 호출 제한 및 비용 관리를 위한 레이트 리미팅 구현
4. 기본 프롬프트 템플릿 구조 설계
5. 간단한 테스트 엔드포인트 구현으로 API 연결 확인
6. 테스트: 기본 프롬프트로 API 응답 확인 및 응답 형식 검증

## 2. Supabase 목표 데이터 모델 설계 및 구현 [pending]
### Dependencies: None
### Description: 사용자 꿈과 생성된 목표를 저장하기 위한 데이터베이스 스키마 설계 및 구현
### Details:
1. 사용자, 꿈, 목표 간의 관계를 정의하는 ERD 설계
2. Supabase에 필요한 테이블 생성 (users, dreams, goals, goal_categories)
3. 목표 테이블에 시간 프레임(일일/주간/월간) 필드 추가
4. 목표 상태 관리를 위한 필드 추가 (제안됨, 수락됨, 거부됨, 완료됨 등)
5. 필요한 인덱스 및 외래 키 제약 조건 설정
6. TypeScript 인터페이스/타입 정의
7. 테스트: CRUD 작업을 통한 데이터 모델 검증

## 3. AI 프롬프트 엔지니어링 및 목표 생성 로직 개발 [pending]
### Dependencies: 3.1, 3.2
### Description: 사용자 꿈 데이터를 분석하고 적절한 목표를 생성하기 위한 AI 프롬프트 설계
### Details:
1. 효과적인 목표 생성을 위한 프롬프트 템플릿 설계
2. 꿈 데이터에서 핵심 주제와 패턴을 추출하는 프롬프트 개발
3. 일일/주간/월간 목표 생성을 위한 별도 프롬프트 최적화
4. SMART 목표 원칙(구체적, 측정 가능, 달성 가능, 관련성, 시간 제한)을 적용한 프롬프트 구성
5. 목표 품질 향상을 위한 프롬프트 반복 테스트 및 개선
6. 응답 파싱 및 구조화 로직 구현
7. 테스트: 다양한 꿈 시나리오에 대한 목표 생성 품질 평가

## 4. 꿈 데이터 처리 및 목표 생성 서비스 구현 [pending]
### Dependencies: 3.1, 3.2, 3.3
### Description: 사용자 꿈 데이터를 수집하고 AI를 통해 목표로 변환하는 서비스 개발
### Details:
1. 꿈 데이터 입력 및 처리를 위한 서비스 레이어 구현
2. 꿈 데이터를 AI 프롬프트에 통합하는 로직 개발
3. AI 응답에서 목표 데이터 추출 및 구조화
4. 생성된 목표를 Supabase에 저장하는 기능 구현
5. 목표 중복 방지 및 품질 검증 로직 추가
6. 비동기 처리를 위한 작업 큐 구현 (선택적)
7. 테스트: 전체 파이프라인 통합 테스트 (꿈 입력부터 목표 저장까지)

## 5. 목표 관리 API 엔드포인트 개발 [pending]
### Dependencies: 3.2, 3.4
### Description: 목표 조회, 편집, 우선순위 지정, 거부 등을 위한 RESTful API 개발
### Details:
1. 사용자별 목표 조회 엔드포인트 구현 (시간 프레임별 필터링 포함)
2. 목표 상세 조회 엔드포인트 구현
3. 목표 수정 엔드포인트 구현 (사용자 편집 지원)
4. 목표 상태 변경 엔드포인트 구현 (수락, 거부, 완료 등)
5. 목표 우선순위 지정 엔드포인트 구현
6. 목표 삭제 엔드포인트 구현
7. API 인증 및 권한 검사 로직 추가
8. 테스트: Postman/Insomnia를 사용한 API 엔드포인트 테스트

## 6. 목표 제안 및 관리 UI 구현 [pending]
### Dependencies: 3.5
### Description: 사용자가 제안된 목표를 확인하고 관리할 수 있는 사용자 인터페이스 개발
### Details:
1. 시간 프레임별(일일/주간/월간) 목표 탭 UI 설계 및 구현
2. 목표 카드 컴포넌트 개발 (목표 내용, 상태, 우선순위 표시)
3. 목표 편집 모달/페이지 구현
4. 목표 수락/거부/완료 기능 UI 구현
5. 목표 우선순위 드래그 앤 드롭 기능 구현
6. 새로운 목표 제안 요청 UI 구현
7. 반응형 디자인 적용 (모바일/데스크톱)
8. 테스트: 사용자 시나리오 기반 UI 테스트 및 사용성 평가

